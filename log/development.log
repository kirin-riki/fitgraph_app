[dotenv] Set [36mAWS_ACCESS_KEY_ID[0m, [36mAWS_SECRET_ACCESS_KEY[0m, [36mAWS_REGION[0m, [36mAWS_S3_BUCKET[0m, [36mYOUTUBE_API_KEY[0m, [36mMAILER_SENDER[0m, [36mMAILER_PASSWORD[0m, [36mGOOGLE_CLIENT_ID[0m, [36mGOOGLE_CLIENT_SECRET[0m, [36mLINE_KEY[0m, [36mLINE_SECRET[0m, [36mLINE_CHANNEL_TOKEN[0m, [36mLINE_CHANNEL_SECRET[0m, and [36mLINE_BOT_INVITE_URL[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (5.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7864839756650184315)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddDeviseTwoFactorToUsers (20250714021434)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mALTER TABLE "users" ADD "otp_secret" character varying[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "consumed_timestep" integer[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "otp_required_for_login" boolean[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250714021434') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7864839756650184315)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1235955690063948105)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddDeviseTwoFactorToUsers (20250714021434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "users" ADD "otp_secret" character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "consumed_timestep" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "otp_required_for_login" boolean[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250714021434') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1235955690063948105)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mAWS_ACCESS_KEY_ID[0m, [36mAWS_SECRET_ACCESS_KEY[0m, [36mAWS_REGION[0m, [36mAWS_S3_BUCKET[0m, [36mYOUTUBE_API_KEY[0m, [36mMAILER_SENDER[0m, [36mMAILER_PASSWORD[0m, [36mGOOGLE_CLIENT_ID[0m, [36mGOOGLE_CLIENT_SECRET[0m, [36mLINE_KEY[0m, [36mLINE_SECRET[0m, [36mLINE_CHANNEL_TOKEN[0m, [36mLINE_CHANNEL_SECRET[0m, and [36mLINE_BOT_INVITE_URL[0m
[dotenv] Loaded [33m.env[0m
Started GET "/profile" for 172.25.0.1 at 2025-07-16 11:06:24 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
  [1m[36mActiveRecord::SchemaMigration Load (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProfilesController#show as HTML
Started GET "/profile" for 172.25.0.1 at 2025-07-16 11:06:24 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 401 Unauthorized in 170ms (ActiveRecord: 47.4ms (1 query, 0 cached) | GC: 1.1ms)


Processing by ProfilesController#show as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 172.25.0.1 at 2025-07-16 11:06:24 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
DEPRECATION WARNING: [Devise] `DeviseHelper#devise_error_messages!` is deprecated and will be
removed in the next major version.

Devise now uses a partial under "devise/shared/error_messages" to display
error messages by default, and make them easier to customize. Update your
views changing calls from:

    <%= devise_error_messages! %>

to:

    <%= render "devise/shared/error_messages", resource: resource %>

To start customizing how errors are displayed, you can copy the partial
from devise to your `app/views` folder. Alternatively, you can run
`rails g devise:views` which will copy all of them again to your app.
 (called from block in _app_views_devise_sessions_new_html_erb___3513313684579227248_33500 at /myapp/app/views/devise/sessions/new.html.erb:20)
  Rendered devise/shared/_links.html.erb (Duration: 7.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1564.4ms | GC: 49.2ms)
  Rendered shared/_header.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered shared/_flash.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1606.2ms | GC: 49.2ms)
Completed 200 OK in 1663ms (Views: 1641.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 49.2ms)


Started GET "/manifest.json" for 172.25.0.1 at 2025-07-16 11:06:26 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 172.25.0.1 at 2025-07-16 11:06:34 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ãƒ­ã‚°ã‚¤ãƒ³"}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users/sessions_controller.rb:3:in `create'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users/sessions_controller.rb:3:in `create'
Redirected to http://localhost:3000/profile
Completed 303 See Other in 334ms (ActiveRecord: 3.3ms (2 queries, 1 cached) | GC: 0.0ms)


Started GET "/profile" for 172.25.0.1 at 2025-07-16 11:06:35 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by ProfilesController#show as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (4.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:30:in `set_profile'
  Rendering layout layouts/application.html.erb
  Rendering profiles/show.html.erb within layouts/application
  Rendered profiles/show.html.erb within layouts/application (Duration: 11.9ms | GC: 0.5ms)
  Rendered shared/_header.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 126.8ms | GC: 1.7ms)
Completed 200 OK in 246ms (Views: 128.7ms | ActiveRecord: 10.0ms (2 queries, 0 cached) | GC: 34.2ms)


Started GET "/manifest.json" for 172.25.0.1 at 2025-07-16 11:06:35 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/profile/edit" for 172.25.0.1 at 2025-07-16 11:06:38 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by ProfilesController#edit as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:30:in `set_profile'
  Rendering layout layouts/application.html.erb
  Rendering profiles/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 4.2ms | GC: 0.0ms)
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered profiles/edit.html.erb within layouts/application (Duration: 22.6ms | GC: 0.4ms)
  Rendered shared/_header.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 44.2ms | GC: 2.4ms)
Completed 200 OK in 61ms (Views: 46.1ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 2.4ms)


Started GET "/" for 172.25.0.1 at 2025-07-16 11:06:39 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Processing by BodyRecordsController#top as HTML
  [1m[36mBodyRecord Pluck (3.7ms)[0m  [1m[34mSELECT "body_records"."recorded_at" FROM "body_records" WHERE "body_records"."user_id" = $1 AND "body_records"."recorded_at" BETWEEN $2 AND $3[0m  [["user_id", 3], ["recorded_at", "2025-06-29 00:00:00"], ["recorded_at", "2025-08-02 23:59:59.999999"]]
  â†³ app/controllers/body_records_controller.rb:19:in `top'
  [1m[36mBodyRecord Load (1.9ms)[0m  [1m[34mSELECT "body_records".* FROM "body_records" WHERE "body_records"."user_id" = $1 AND "body_records"."recorded_at" BETWEEN $2 AND $3 ORDER BY "body_records"."id" ASC LIMIT $4[0m  [["user_id", 3], ["recorded_at", "2025-07-16 00:00:00"], ["recorded_at", "2025-07-16 23:59:59.999999"], ["LIMIT", 1]]
  â†³ app/controllers/body_records_controller.rb:23:in `top'
  Rendering layout layouts/application.html.erb
  Rendering body_records/top.html.erb within layouts/application
  [1m[36mBodyRecord Load (0.6ms)[0m  [1m[34mSELECT "body_records".* FROM "body_records" WHERE "body_records"."user_id" = $1 AND "body_records"."recorded_at" BETWEEN $2 AND $3[0m  [["user_id", 3], ["recorded_at", "2025-06-29 00:00:00"], ["recorded_at", "2025-08-02 23:59:59.999999"]]
  â†³ app/views/body_records/_calendar.html.erb:1
  Rendered simple_calendar/_month_calendar.html.erb (Duration: 26.7ms | GC: 15.0ms)
  Rendered body_records/_calendar.html.erb (Duration: 38.6ms | GC: 16.9ms)
  Rendered body_records/top.html.erb within layouts/application (Duration: 43.2ms | GC: 17.9ms)
  Rendered shared/_header.html.erb (Duration: 1.0ms | GC: 0.5ms)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 68.7ms | GC: 21.2ms)
Completed 200 OK in 287ms (Views: 72.8ms | ActiveRecord: 16.6ms (3 queries, 0 cached) | GC: 111.5ms)


Started GET "/body_records/new?recorded_at=2025-07-16" for 172.25.0.1 at 2025-07-16 11:06:43 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by BodyRecordsController#new as HTML
  Parameters: {"recorded_at"=>"2025-07-16"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering body_records/new.html.erb within layouts/application
  Rendered body_records/_form.html.erb (Duration: 27.2ms | GC: 0.3ms)
  Rendered body_records/new.html.erb within layouts/application (Duration: 28.4ms | GC: 0.3ms)
  Rendered shared/_header.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 55.0ms | GC: 2.2ms)
Completed 200 OK in 99ms (Views: 53.8ms | ActiveRecord: 2.9ms (1 query, 0 cached) | GC: 2.8ms)


Started GET "/recommended_videos" for 172.25.0.1 at 2025-07-16 11:06:50 +0900
Cannot render console from 172.25.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
Processing by RecommendedVideosController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/recommended_videos_controller.rb:42:in `set_profile_and_condition_key'
User 3 has no profile.
  Rendering layout layouts/application.html.erb
  Rendering recommended_videos/index.html.erb within layouts/application
  Rendered recommended_videos/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered shared/_flash.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 35.0ms | ActiveRecord: 1.6ms (2 queries, 0 cached) | GC: 0.6ms)


