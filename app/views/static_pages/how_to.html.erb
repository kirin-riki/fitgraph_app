<% content_for :no_main_padding, true %>
<div class="w-full mx-auto min-h-screen bg-gradient-to-b from-indigo-400 via-violet-500 to-purple-700 px-4 pt-24 pb-12">
  <div class="max-w-3xl mx-auto">

    <!-- ヘッダー -->
    <div class="text-center mb-12">
      <%= image_tag 'logo_camera.png', class: 'w-32 h-24 mx-auto mb-4' %>
      <h1 class="text-3xl font-extrabold text-white mb-3">Fitgraph</h1>
      <p class="text-white/90 text-lg font-semibold mb-2">続けられるダイエットを、Fitgraphで。</p>
      <p class="text-white/80 text-base">記録とトレーニングで、あなたの努力を“見える化”します！</p>
    </div>

    <!-- メインコンテンツ -->
    <div class="bg-white/10 backdrop-blur-sm rounded-xl shadow-xl p-8 mb-8">

      <!-- Fitgraphとは -->
      <section class="mb-12">
        <h2 class="text-xl font-bold text-white mb-3">Fitgraph（フィットグラフ）とは？</h2>
        <div class="bg-white/5 rounded-lg p-6 border-2 border-white/20">
          <p class="text-white/90 text-base leading-relaxed">
            Fitgraphは、<strong class="text-yellow-300">「続けられるダイエット」</strong>を支えるアプリです。<br>
            体重や写真を記録して自分の変化を可視化することでモチベーションを維持します。<br>
            また、あなたに合ったトレーニング動画を提案し、行動までサポートします！
          </p>
        </div>
      </section>

      <!-- こんな方におすすめ -->
      <section class="mb-12">
        <h2 class="text-xl font-bold text-white mb-3">こんなあなたにおすすめ</h2>
        <div class="bg-white/5 rounded-lg p-6 border-2 border-white/20">
          <div class="grid md:grid-cols-2 gap-6">

            <div class="bg-white/10 rounded-lg p-4 border border-white/20">
              <h3 class="font-semibold text-white mb-3">🏃‍♀️ これから運動を始めたい</h3>
              <p class="text-white/80 text-sm">
                初心者でも続けやすいトレーニング動画を提案し、習慣化をサポートします。
              </p>
            </div>

            <div class="bg-white/10 rounded-lg p-4 border border-white/20">
              <h3 class="font-semibold text-white mb-3">📸 変化を“見える化”したい</h3>
              <p class="text-white/80 text-sm">
                体重や写真を記録して、成長をグラフや画像で確認できます。
              </p>
            </div>

            <div class="bg-white/10 rounded-lg p-4 border border-white/20">
              <h3 class="font-semibold text-white mb-3">🎯 結果を出したい</h3>
              <p class="text-white/80 text-sm">
                体重の変化をグラフで確認し、目標達成までの道のりを一目で把握できます。
              </p>
            </div>

            <div class="bg-white/10 rounded-lg p-4 border border-white/20">
              <h3 class="font-semibold text-white mb-3">💪 効率よく鍛えたい</h3>
              <p class="text-white/80 text-sm">
                Fitgraphおすすめの動画で、全身をバランスよく鍛えられます。
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 使い方の流れ（アコーディオン） -->
      <section class="mb-12" data-controller="accordion">
        <h2 class="text-xl font-bold text-white mb-3">使い方の流れ</h2>
        <div class="bg-white/5 rounded-lg p-6 border-2 border-white/20 space-y-4">

          <% steps = [
            { num: 1, title: "登録してスタート", text: "フォーム入力で簡単にアカウント作成！まずはFitgraphを始めましょう。", images: ["ps-registration.jpg"] },
            { num: 2, title: "ログイン", text: "GoogleやLINEでログインできます。", images: ["ps-login.jpg","ps-home.jpg"] },
            { num: 3, title: "マイページ", text: "プロフィールや目標設定を管理。", images: ["ps-mypage-edit.jpg"] },
            { num: 4, title: "入力画面", text: "カレンダーから体重や写真を登録。", images: ["ps-home-2.jpg","ps-bodyrecord-new.jpg","ps-home-3.jpg"] },
            { num: 5, title: "経過画面", text: "グラフで変化をチェック！", images: ["ps-graph.jpg"] },
            { num: 6, title: "動画提案", text: "あなたに合ったトレーニング動画を提案。", images: ["ps-youtube.jpg"] }
          ] %>

          <% steps.each do |step| %>
            <div class="bg-white/10 rounded-lg p-4 border border-white/20" data-accordion-target="item">
              <div class="flex justify-between items-center cursor-pointer" data-action="click->accordion#toggle">
                <div class="flex items-center space-x-3">
                  <div class="bg-white/20 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold">
                    <%= step[:num] %>
                  </div>
                  <div>
                    <h3 class="font-semibold text-white"><%= step[:title] %></h3>
                    <p class="text-white/80 text-sm"><%= step[:text] %></p>
                  </div>
                </div>
                <div class="text-white text-xl" data-accordion-target="icon">＋</div>
              </div>

              <!-- 初期は閉じる: hidden + max-h-0 + opacity-0 -->
              <div
                class="mt-3 hidden max-h-0 opacity-0 overflow-hidden"
                data-accordion-target="content"
              >
                <div class="grid grid-cols-3 gap-2 justify-items-center opacity-0" data-accordion-target="images">
                  <% step[:images].each do |img| %>
                    <%= image_tag img,
                        class: "block rounded-lg border border-violet-400 h-auto object-cover shadow-md mx-auto",
                        style: "width:100%; max-width:180px;" %>

                  <% end %>
                </div>
              </div>

            </div>
          <% end %>
        </div>
      </section>
    </div>

    <!-- アクションボタン -->
    <div class="text-center">
      <div class="bg-white/10 backdrop-blur-sm rounded-xl shadow-xl p-8">
        <h2 class="text-xl font-bold text-white mb-2">今すぐ無料で始めましょう！</h2>
        <p class="text-white/80 mb-6 text-sm">あなたの努力を“見える化”して、続ける力に変えましょう。</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <%= link_to new_user_registration_path, class: "bg-white text-violet-600 font-semibold rounded-full py-2 px-8 hover:bg-gray-100 transition duration-300 transform hover:scale-105" do %>
            <span class="text-base">新規登録</span>
          <% end %>
          <%= link_to new_user_session_path, class: "border-2 border-white text-white font-semibold rounded-full py-2 px-8 hover:bg-white/10 transition duration-300 transform hover:scale-105" do %>
            <span class="text-base">ログイン</span>
          <% end %>
        </div>
      </div>
    </div>

  </div>
</div>
