<main data-controller="progress"
      data-progress-labels-value='<%= @dates.to_json %>'
      data-progress-weights-value='<%= @weight_values.to_json %>'
      data-progress-fat-rates-value='<%= @fat_values.to_json %>'
      data-progress-target-weight-value='<%= @target_weight&.to_f || "null" %>'
      data-progress-all-records-value='<%= @all_graph_records.to_json %>'
      class="min-h-[calc(100vh-60px)] pt-[60px] pb-24 bg-gray-50 flex flex-col items-center">
  <section class="w-full mx-auto min-h-screen items-center flex flex-col py-5 sm:px-6 lg:px-8 px-4 mb-12">
    <div class="w-full text-left mb-2">
      <h3 class="mb-4 text-sm text-violet-600">経過</h3>
    </div>

    <div class="w-full max-w-screen-md min-h-[400px] sm:min-h-[500px] lg:min-h-[550px]">
      <!-- グラフ / 写真タブ -->
      <%= render "progress/graph_photo_tab" %>

      <!-- グラフビュー --><!-- 統計テーブル -->
        <%= render "progress/graph" %>
        <%= render "progress/stats_table" %>

      <!-- 写真ビュー -->
      <div id="photo-view" data-progress-target="photoView" class="hidden">
        <%= render "progress/photo" %>
      </div>
    </div>
  </section>
</main>


<style>
/* 大きなスライダー用カスタムCSS */
input[type=range].slider-large {
  height: 3.5rem;
}
input[type=range].slider-large::-webkit-slider-thumb {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  background: rgb(139, 92, 246); /* Tailwind bg-violet-500 */
  border: 3px solid #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  cursor: pointer;
}
input[type=range].slider-large::-moz-range-thumb {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  background: rgb(139, 92, 246);
  border: 3px solid #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  cursor: pointer;
}
input[type=range].slider-large::-ms-thumb {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  background: rgb(139, 92, 246);
  border: 3px solid #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  cursor: pointer;
}
</style>
